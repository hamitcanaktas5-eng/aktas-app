<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Aktaş App – Demo v1.0</title>

<style>
*{box-sizing:border-box;margin:0;padding:0}
body{
  font-family:Arial,Helvetica,sans-serif;
  background:linear-gradient(160deg,#0b1220,#05080f);
  color:#fff;
  height:100vh;
  overflow:hidden;
}

/* LOGIN STATE */
body.logged #login{display:none!important}
body.logged #app{display:block!important}

/* LOGIN */
#login{
  position:fixed; inset:0;
  display:flex; align-items:center; justify-content:center;
}
.login-box{
  width:90%; max-width:360px;
  background:rgba(255,255,255,.06);
  border-radius:16px;
  padding:24px;
  animation:fade .3s;
}
.login-box h1{margin-bottom:6px}
.login-box p{opacity:.7;margin-bottom:16px;font-size:14px}
.login-box input{
  width:100%; padding:12px;
  margin-bottom:12px;
  border-radius:10px;
  border:none; outline:none;
}
.login-box button{
  width:100%; padding:12px;
  border:none; border-radius:12px;
  background:#3b6cff; color:#fff;
  font-size:16px;
}

/* APP */
#app{display:none;height:100%}

/* HEADER */
.header{
  height:56px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:0 12px;
  background:rgba(0,0,0,.35);
}
.header button{
  background:#3b6cff;
  border:none;
  color:#fff;
  padding:8px 12px;
  border-radius:10px;
}

/* LAYOUT */
.main{
  display:flex;
  height:calc(100% - 56px);
}

/* LEFT PANEL */
#left{
  width:260px;
  background:rgba(255,255,255,.04);
  padding:12px;
  position:fixed;
  top:56px; bottom:0; left:-260px;
  transition:.25s;
  z-index:10;
}
#left.active{left:0}
#left button{
  width:100%; padding:10px;
  border:none; border-radius:10px;
  background:#3b6cff; color:#fff;
  margin-bottom:12px;
}
.channel{
  padding:10px;
  border-radius:10px;
  margin-bottom:6px;
  background:rgba(255,255,255,.08);
}

/* CENTER */
#center{
  flex:1;
  padding:12px;
  overflow-y:auto;
}
.message{
  background:#3b6cff;
  padding:10px;
  border-radius:12px;
  margin-bottom:8px;
  animation:fade .2s;
}
.message small{opacity:.7}

/* SEND */
#sendBox{
  display:none;
  padding:10px;
  background:rgba(0,0,0,.35);
}
#sendBox input{
  width:78%; padding:10px;
  border-radius:10px; border:none;
}
#sendBox button{
  width:20%;
  padding:10px;
  border:none; border-radius:10px;
  background:#3b6cff; color:#fff;
}

/* RIGHT */
#right{
  width:220px;
  background:rgba(255,255,255,.04);
  padding:12px;
  display:none;
}

/* ANIM */
@keyframes fade{
  from{opacity:0;transform:translateY(10px)}
  to{opacity:1;transform:none}
}
</style>
</head>

<body>

<!-- LOGIN -->
<div id="login">
  <div class="login-box">
    <h1>Demo v1.0</h1>
    <p>Giriş: admin / admin</p>
    <input id="user" value="admin" placeholder="Kullanıcı adı">
    <input id="pass" type="password" value="admin" placeholder="Şifre">
    <button onclick="doLogin()">Giriş</button>
  </div>
</div>

<!-- APP -->
<div id="app">
  <div class="header">
    <button onclick="toggleLeft()">☰</button>
    <div id="title">Kanal yok</div>
    <button onclick="logout()">Çıkış</button>
  </div>

  <div id="left">
    <button onclick="createChannel()">+ Kanal Oluştur</button>
    <div id="channels"></div>
  </div>

  <div class="main">
    <div id="center"></div>
    <div id="right">
      <h3>Aktifler</h3>
      <div>@admin</div>
    </div>
  </div>

  <div id="sendBox">
    <input id="msg" placeholder="Mesaj yaz...">
    <button onclick="send()">Gönder</button>
  </div>
</div>

<script>
/* ---------- STATE ---------- */
let current=null;
let data=JSON.parse(localStorage.getItem("demo_channels")||"{}");

/* ---------- LOGIN ---------- */
function doLogin(){
  if(user.value==="admin" && pass.value==="admin"){
    document.body.classList.add("logged");
    localStorage.setItem("logged","1");
    loadChannels();
  }else alert("Hatalı giriş");
}

if(localStorage.getItem("logged")==="1"){
  document.body.classList.add("logged");
}

/* ---------- LOGOUT ---------- */
function logout(){
  localStorage.removeItem("logged");
  location.reload();
}

/* ---------- LEFT ---------- */
function toggleLeft(){
  left.classList.toggle("active");
}

/* ---------- CHANNEL ---------- */
function createChannel(){
  let name=prompt("Kanal adı");
  let uname=prompt("@kanal");
  if(!name||!uname)return;
  data[uname]={name, msgs:[]};
  save();
  loadChannels();
}

function loadChannels(){
  channels.innerHTML="";
  for(let k in data){
    let d=document.createElement("div");
    d.className="channel";
    d.innerText=data[k].name+" ("+k+")";
    d.onclick=()=>openChannel(k);
    channels.appendChild(d);
  }
}

function openChannel(k){
  current=k;
  title.innerText=data[k].name;
  center.innerHTML="";
  data[k].msgs.forEach((m,i)=>{
    let d=document.createElement("div");
    d.className="message";
    d.innerHTML="<small>@admin</small><br>"+m;
    d.oncontextmenu=e=>{
      e.preventDefault();
      if(confirm("Silinsin mi?")){
        data[k].msgs.splice(i,1);
        save(); openChannel(k);
      }
    }
    center.appendChild(d);
  });
  sendBox.style.display="flex";
  right.style.display="block";
  left.classList.remove("active");
}

/* ---------- MESSAGE ---------- */
function send(){
  if(!current)return;
  if(!msg.value)return;
  data[current].msgs.push(msg.value);
  msg.value="";
  save(); openChannel(current);
}

function save(){
  localStorage.setItem("demo_channels",JSON.stringify(data));
}
</script>
</body>
</html>
